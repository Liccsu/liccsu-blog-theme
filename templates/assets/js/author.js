window.authorTabs=function(){return{activeTab:"posts",init(){const e=this.$el.dataset.defaultTab;!e||"posts"!==e&&"moments"!==e||(this.activeTab=e)}}},document.addEventListener("DOMContentLoaded",function(){!function(){const e=window.AUTHOR_PAGE_CONFIG;if(!e||!e.authorName)return;const t=document.querySelector(".author-moments-grid");if(!t)return;const o=t.querySelectorAll(".author-moment-item").length;document.querySelectorAll(".author-moments-count").forEach(e=>{e.textContent=o});const n=document.querySelector(".author-moments-tab-count");n&&(n.textContent=`(${o})`)}(),function(){const e=document.querySelector(".author-moments-grid"),t=document.querySelector(".author-moments-empty");if(!e||!t)return;0===e.querySelectorAll(".author-moment-item").length&&(e.classList.add("hidden"),t.classList.remove("hidden"))}(),document.querySelectorAll(".author-moment-item img").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),function(e){let t=document.getElementById("author-image-preview-modal");t||(t=document.createElement("div"),t.id="author-image-preview-modal",t.className="fixed inset-0 z-[100] bg-black/80 flex items-center justify-center p-4 cursor-zoom-out",t.innerHTML='\n      <img src="" alt="预览图片" class="max-w-full max-h-full object-contain rounded-lg" />\n      <button class="absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors">\n        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n        </svg>\n      </button>\n    ',document.body.appendChild(t),t.addEventListener("click",()=>{t.classList.add("hidden"),document.body.style.overflow=""}),document.addEventListener("keydown",e=>{"Escape"!==e.key||t.classList.contains("hidden")||(t.classList.add("hidden"),document.body.style.overflow="")}));const o=t.querySelector("img");o.src=e,t.classList.remove("hidden"),document.body.style.overflow="hidden"}(e.src)})})});
