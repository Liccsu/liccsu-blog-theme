document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelectorAll(".stat-value"),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,o=parseInt(n.textContent)||0;o>0&&function(e,t,n,o){const r=performance.now();function a(c){const s=c-r,i=Math.min(s/o,1),l=1-Math.pow(1-i,4),d=Math.floor(t+(n-t)*l);e.textContent=d.toLocaleString(),i<1&&requestAnimationFrame(a)}requestAnimationFrame(a)}(n,0,o,1e3),t.unobserve(n)}})},{threshold:.5});e.forEach(e=>t.observe(e))}(),document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.addEventListener("error",()=>{e.style.display="none";const t=document.createElement("div");t.className="flex items-center justify-center p-8 text-base-content/50 text-sm",t.textContent="图片加载失败",e.parentNode.appendChild(t)})})});
