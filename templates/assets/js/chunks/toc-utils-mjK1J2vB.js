function t(t,e){const n=[],a=[];return t.forEach((t,l)=>{t.id||(t.id=`heading-${l}`);const i=parseInt(t.tagName.charAt(1)),r=i-e,o={id:t.id,text:t.textContent.trim(),absoluteLevel:i,relativeLevel:r,element:t,children:[]};for(;a.length>0&&a[a.length-1].relativeLevel>=r;)a.pop();0===a.length?n.push(o):a[a.length-1].children.push(o),a.push(o)}),n}function e(t,n={}){const{addTooltip:a=!1,onClick:l=null}=n,i=document.createElement("ol");return i.className="toc-list",t.forEach(t=>{const r=document.createElement("li");r.className="toc-item-wrapper",r.style.setProperty("--toc-indent-multiplier",t.relativeLevel.toString());const o=document.createElement("a");if(o.href=`#${t.id}`,o.textContent=t.text,o.className=a?"toc-link tooltip tooltip-right":"toc-link",o.setAttribute("data-relative-level",t.relativeLevel.toString()),o.setAttribute("data-absolute-level",t.absoluteLevel.toString()),o.setAttribute("data-heading-id",t.id),a&&o.setAttribute("data-tip",t.text),l&&o.addEventListener("click",e=>{e.preventDefault(),l(t.element,e)}),r.appendChild(o),t.children.length>0){const a=e(t.children,n);r.appendChild(a)}i.appendChild(r)}),i}function n(t,e=80){if(!t)return;const n=t.offsetTop-e;window.scrollTo({top:n,behavior:"smooth"})}function a(t){const e=Array.from(t),n=e.map(t=>parseInt(t.tagName.charAt(1))),a=Math.min(...n),l=a+2;return{filteredHeadings:e.filter(t=>parseInt(t.tagName.charAt(1))<=l),minLevel:a,maxDisplayLevel:l,totalLevels:n.length>0?Math.max(...n)-a+1:0}}export{a,t as b,e as c,n as s};
