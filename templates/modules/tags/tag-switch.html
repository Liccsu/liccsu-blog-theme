<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<!-- ========================================== -->
<!--        标签切换块组件 - 现代化风格          -->
<!-- ========================================== -->

<!-- 
  风格说明：
  1. pills - 药丸风格：圆润药丸形状，柔和阴影
  2. chips - 芯片风格：Material Design 风格，带计数徽章
  3. underline - 下划线风格：极简，文字+下划线高亮
  4. glass - 玻璃拟态：毛玻璃效果，半透明
-->

<!-- 药丸风格 - 圆润现代 -->
<div th:fragment="pills(tags, currentTag)" class="tags-switch-pills mb-8">
  <div class="flex flex-wrap items-center gap-3">
    <!-- 全部按钮 -->
    <a th:href="@{/tags}"
       class="group relative px-5 py-2 rounded-full text-sm font-medium transition-all duration-300"
       th:classappend="${currentTag == null} ? 'bg-primary text-primary-content shadow-lg shadow-primary/30' : 'bg-base-200/80 text-base-content/70 hover:bg-base-300 hover:text-base-content hover:shadow-md'">
      <span class="relative z-10">全部</span>
    </a>
    
    <!-- 标签药丸 -->
    <a th:each="t : ${tags}"
       th:href="@{${t.status.permalink}}"
       th:with="postCount=${t.status.postCount ?: 0}"
       class="group relative px-5 py-2 rounded-full text-sm font-medium transition-all duration-300"
       th:classappend="${currentTag != null and currentTag.metadata.name == t.metadata.name} ? ' bg-primary text-primary-content shadow-lg shadow-primary/30' : ' bg-base-200/80 text-base-content/70 hover:bg-base-300 hover:text-base-content hover:shadow-md'">
      <span class="relative z-10" th:text="${t.spec.displayName}"></span>
      <span th:if="${postCount > 0}" 
            class="absolute -top-1 -right-1 min-w-5 h-5 flex items-center justify-center px-1.5 rounded-full text-xs font-bold"
            th:classappend="${currentTag != null and currentTag.metadata.name == t.metadata.name} ? ' bg-primary-content text-primary' : ' bg-primary text-primary-content'"
            th:text="${postCount}"></span>
    </a>
  </div>
</div>

<!-- 芯片风格 - Material Design -->
<div th:fragment="chips(tags, currentTag)" class="tags-switch-chips mb-8">
  <div class="flex flex-wrap items-center gap-2">
    <!-- 全部芯片 -->
    <a th:href="@{/tags}"
       class="inline-flex items-center gap-2 h-9 px-4 rounded-lg text-sm font-medium border transition-all duration-200"
       th:classappend="${currentTag == null} ? 'bg-primary/10 text-primary border-primary/30 shadow-sm' : 'bg-base-100 text-base-content/70 border-base-300 hover:border-primary/50 hover:bg-primary/5 hover:text-primary'">
      <span class="icon-[heroicons--squares-2x2] w-4 h-4"></span>
      <span>全部</span>
    </a>
    
    <!-- 标签芯片 -->
    <a th:each="t : ${tags}"
       th:href="@{${t.status.permalink}}"
       th:with="postCount=${t.status.postCount ?: 0}"
       class="inline-flex items-center gap-2 h-9 px-4 rounded-lg text-sm font-medium border transition-all duration-200"
       th:classappend="${currentTag != null and currentTag.metadata.name == t.metadata.name} ? ' bg-primary/10 text-primary border-primary/30 shadow-sm' : ' bg-base-100 text-base-content/70 border-base-300 hover:border-primary/50 hover:bg-primary/5 hover:text-primary'">
      <span class="icon-[heroicons--hashtag] w-3.5 h-3.5 opacity-50"></span>
      <span th:text="${t.spec.displayName}"></span>
      <span th:if="${postCount > 0}" 
            class="text-xs opacity-60"
            th:text="'(' + ${postCount} + ')'"></span>
    </a>
  </div>
</div>

<!-- 下划线风格 - 极简现代 -->
<div th:fragment="underline(tags, currentTag)" class="tags-switch-underline mb-8 border-b border-base-200">
  <div class="flex flex-wrap items-center gap-1 -mb-px">
    <!-- 全部 -->
    <a th:href="@{/tags}"
       class="relative px-4 py-3 text-sm font-medium transition-colors duration-200"
       th:classappend="${currentTag == null} ? 'text-primary' : 'text-base-content/60 hover:text-base-content'">
      <span>全部</span>
      <span th:if="${currentTag == null}" 
            class="absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-full"></span>
    </a>
    
    <!-- 标签 -->
    <a th:each="t : ${tags}"
       th:href="@{${t.status.permalink}}"
       th:with="postCount=${t.status.postCount ?: 0}"
       class="relative px-4 py-3 text-sm font-medium transition-colors duration-200"
       th:classappend="${currentTag != null and currentTag.metadata.name == t.metadata.name} ? ' text-primary' : ' text-base-content/60 hover:text-base-content'">
      <span th:text="${t.spec.displayName}"></span>
      <sup th:if="${postCount > 0}" class="ml-0.5 text-xs opacity-50" th:text="${postCount}"></sup>
      <span th:if="${currentTag != null and currentTag.metadata.name == t.metadata.name}" 
            class="absolute bottom-0 left-0 right-0 h-0.5 bg-primary rounded-full"></span>
    </a>
  </div>
</div>

<!-- 玻璃拟态风格 - 毛玻璃效果 -->
<div th:fragment="glass(tags, currentTag)" class="tags-switch-glass mb-8">
  <div class="flex flex-wrap items-center gap-2 p-3 rounded-2xl bg-base-200/30 backdrop-blur-sm">
    <!-- 全部 -->
    <a th:href="@{/tags}"
       class="px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300"
       th:classappend="${currentTag == null} ? 'bg-base-100 text-base-content shadow-md' : 'text-base-content/60 hover:bg-base-100/50 hover:text-base-content'">
      全部
    </a>
    
    <!-- 标签 -->
    <a th:each="t : ${tags}"
       th:href="@{${t.status.permalink}}"
       th:with="postCount=${t.status.postCount ?: 0}"
       class="inline-flex items-center gap-1.5 px-4 py-2 rounded-xl text-sm font-medium transition-all duration-300"
       th:classappend="${currentTag != null and currentTag.metadata.name == t.metadata.name} ? ' bg-base-100 text-base-content shadow-md' : ' text-base-content/60 hover:bg-base-100/50 hover:text-base-content'">
      <span th:text="${t.spec.displayName}"></span>
      <span th:if="${postCount > 0}" 
            class="px-1.5 py-0.5 rounded-md text-xs bg-base-content/10"
            th:text="${postCount}"></span>
    </a>
  </div>
</div>

</html>
