/**
 * 文章页面样式表
 * 包含文章页面的所有自定义样式
 */

/* ===================================================
 * 1. CSS 变量定义 - 统一变量管理
 * ==================================================*/
:root {
    /* DaisyUI 5 标准颜色变量 */
    --glass-bg: color-mix(in srgb, var(--color-base-100) 8%, transparent);
    --glass-border: color-mix(in srgb, var(--color-base-content) 4%, transparent);
    
    /* 目录导航变量 */
    --toc-indent-unit: 16px;
    --toc-base-padding: 8px;
    --toc-link-height: 32px;
}

/* ===================================================
 * 2. 文章简要截断样式
 * ==================================================*/
.truncate-25 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
    word-break: break-all;
}

/* ===================================================
 * 3. 玻璃效果样式
 * ==================================================*/
.glass-effect {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    background-color: var(--glass-bg);
    border: 1px solid var(--glass-border);
    transition: box-shadow 0.18s ease, transform 0.12s ease;
}

.glass-effect:hover {
    box-shadow: 0 4px 16px color-mix(in srgb, var(--color-primary) 8%, transparent);
    transform: translateY(-1px);
}

/* ===================================================
 * 4. 侧边栏样式 - 禁用响应式隐藏
 * ==================================================*/
.sidebar-card:hover {
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-base-content) 15%, transparent);
}


/* ===================================================
 * 5. 文章内容样式 - 通用基础（防止溢出）
 * ==================================================*/
#article-content {
    font-size: 16px;
    line-height: 1.75;
    color: var(--color-base-content);
    max-width: 100%;
    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
}

#article-content * {
    max-width: 100%;
}

#article-content img, 
#article-content pre, 
#article-content code,
#article-content table {
    max-width: 100%;
    overflow: auto;
}

#article-content ul,
#article-content ol {
    padding-left: 1.5em;
    margin-left: 0;
    max-width: 100%;
}

#article-content li {
    max-width: 100%;
}

/* ===================================================
 * 6. GitHub 风格样式
 * ==================================================*/
#article-content.article-style-github h1,
#article-content.article-style-github h2,
#article-content.article-style-github h3,
#article-content.article-style-github h4,
#article-content.article-style-github h5,
#article-content.article-style-github h6 {
    margin-top: 1.5em;
    margin-bottom: 0.75em;
    font-weight: 600;
    line-height: 1.3;
    color: var(--color-base-content);
}

#article-content.article-style-github h1 {
    font-size: 2em;
    padding-bottom: 0.3em;
    border-bottom: 1px solid var(--color-base-300);
}

#article-content.article-style-github h2 {
    font-size: 1.5em;
    padding-bottom: 0.3em;
    border-bottom: 1px solid var(--color-base-300);
}

#article-content.article-style-github h3 {
    font-size: 1.25em;
}

#article-content.article-style-github h4 {
    font-size: 1em;
}

#article-content.article-style-github h5 {
    font-size: 0.875em;
}

#article-content.article-style-github h6 {
    font-size: 0.85em;
    color: color-mix(in srgb, var(--color-base-content) 70%, transparent);
}

#article-content.article-style-github p {
    margin-top: 0;
    margin-bottom: 1em;
    line-height: 1.75;
}

#article-content.article-style-github a {
    color: oklch(var(--p));
    text-decoration: none;
    transition: color 0.2s ease;
}

#article-content.article-style-github a:hover {
    text-decoration: underline;
}

#article-content.article-style-github strong {
    font-weight: 600;
}

#article-content.article-style-github em {
    font-style: italic;
}

#article-content.article-style-github blockquote {
    margin: 1em 0;
    padding: 0.5em 1em;
    color: color-mix(in srgb, var(--color-base-content) 80%, transparent);
    border-left: 0.25em solid var(--color-base-300);
    background: var(--color-base-200);
    border-radius: 0.25rem;
}

/* ===================================================
 * 列表样式 - GitHub 风格增强
 * 支持深层嵌套（6层+），带颜色渐变和悬停效果
 * ==================================================*/

/* 无序列表和有序列表基础 */
#article-content.article-style-github ul,
#article-content.article-style-github ol {
    margin: 1em 0;
    padding-left: 2em;
    line-height: 1.75;
}

/* 列表项基础样式 */
#article-content.article-style-github li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
    padding-left: 0.5em;
    line-height: 1.75;
    transition: background-color 0.2s ease;
}

/* 列表项悬停效果 */
#article-content.article-style-github li:hover {
    background: color-mix(in srgb, var(--color-base-200) 50%, transparent);
    border-radius: 0.375rem;
}

/* 列表项内的段落 */
#article-content.article-style-github li > p {
    margin: 0;
    line-height: 1.75;
}

/* 一级列表标记 - 最鲜艳 */
#article-content.article-style-github ul > li::marker {
    color: var(--color-primary);
    font-size: 1.1em;
    font-weight: bold;
}

#article-content.article-style-github ol > li::marker {
    color: var(--color-primary);
    font-weight: 700;
    font-size: 0.95em;
}

/* 二级嵌套列表 */
#article-content.article-style-github li > ul,
#article-content.article-style-github li > ol {
    margin-top: 0.75em;
    margin-bottom: 0.75em;
    padding-left: 1.75em;
}

#article-content.article-style-github ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 85%, transparent);
    font-size: 1em;
}

#article-content.article-style-github ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 85%, transparent);
    font-weight: 600;
}

/* 三级嵌套列表 */
#article-content.article-style-github ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 70%, transparent);
}

#article-content.article-style-github ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 70%, transparent);
    font-weight: 500;
}

/* 四级嵌套列表 */
#article-content.article-style-github ul ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 55%, transparent);
}

#article-content.article-style-github ol ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 55%, transparent);
}

/* 五级嵌套列表 */
#article-content.article-style-github ul ul ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 40%, transparent);
}

#article-content.article-style-github ol ol ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 40%, transparent);
}

/* 六级及以上嵌套列表 */
#article-content.article-style-github ul ul ul ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 30%, transparent);
}

#article-content.article-style-github ol ol ol ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 30%, transparent);
}

/* 行内代码 - 基础样式 */
#article-content.article-style-github code {
    padding: 0.2em 0.4em;
    font-size: 0.9em;
}

/* 代码块 - 基础布局（Shiki 插件负责样式渲染） */
#article-content.article-style-github pre {
    margin: 1.5em 0;
    padding: 0;
    overflow-x: auto;
    max-width: 100%;
}

#article-content.article-style-github pre code {
    padding: 0;
    font-size: inherit;
}



#article-content.article-style-github img {
    max-width: 100%;
    height: auto;
    border-radius: 0.5rem;
    margin: 1.5em auto;
    display: block;
}

#article-content.article-style-github table {
    width: 100%;
    margin: 1em 0;
    border-collapse: collapse;
    border-spacing: 0;
    display: block;
    overflow: auto;
}

#article-content.article-style-github table th,
#article-content.article-style-github table td {
    padding: 6px 13px;
    border: 1px solid var(--color-base-300);
}

#article-content.article-style-github table th {
    font-weight: 600;
    background-color: var(--color-base-200);
}

#article-content.article-style-github table tr:nth-child(2n) {
    background-color: var(--color-base-100);
}

#article-content.article-style-github hr {
    height: 1px;
    padding: 0;
    margin: 1.5em 0;
    background-color: var(--color-base-300);
    border: 0;
}

/* 键盘按键 */
#article-content.article-style-github kbd {
    padding: 3px 5px;
    font-size: 11px;
    line-height: 10px;
    color: var(--color-base-content);
    background-color: var(--color-base-100);
    border: 1px solid var(--color-base-300);
    border-radius: 3px;
    box-shadow: inset 0 -1px 0 var(--color-base-300);
    font-family: ui-monospace, monospace;
}

/* 高亮文本 */
#article-content.article-style-github mark {
    background-color: #fff3cd;
    color: #000;
    padding: 0.2em;
}

/* 定义列表 */
#article-content.article-style-github dl {
    padding: 0;
    margin-bottom: 16px;
}

#article-content.article-style-github dt {
    padding: 0;
    margin-top: 16px;
    font-size: 1em;
    font-style: italic;
    font-weight: 600;
}

#article-content.article-style-github dd {
    padding: 0 16px;
    margin-bottom: 16px;
}

/* 详情/折叠 */
#article-content.article-style-github details {
    margin-bottom: 16px;
    padding: 8px 16px;
    background: var(--color-base-200);
    border: 1px solid var(--color-base-300);
    border-radius: 6px;
}

#article-content.article-style-github summary {
    cursor: pointer;
    font-weight: 600;
}

/* 图注 */
#article-content.article-style-github figcaption {
    margin-top: 8px;
    font-size: 14px;
    color: color-mix(in srgb, var(--color-base-content) 70%, transparent);
    text-align: center;
}

/* 表格标题 */
#article-content.article-style-github caption {
    padding: 8px 0;
    font-weight: 600;
    text-align: left;
    color: var(--color-base-content);
}

/* 短引用 */
#article-content.article-style-github q {
    font-style: italic;
}

/* 变量 */
#article-content.article-style-github var {
    font-family: ui-monospace, monospace;
    font-style: normal;
}

/* 示例输出 */
#article-content.article-style-github samp {
    font-family: ui-monospace, monospace;
    font-size: 85%;
}

/* 定义 */
#article-content.article-style-github dfn {
    font-style: italic;
    font-weight: 600;
}

/* 任务列表 */
#article-content.article-style-github ul[data-type="taskList"] {
    list-style: none;
    padding-left: 0;
}

#article-content.article-style-github li[data-type="taskItem"] {
    display: flex;
    align-items: flex-start;
    gap: 0.5em;
}

/* 折叠内容 */
#article-content.article-style-github details.details summary {
    font-weight: 600;
}

/* 分栏卡片 */
#article-content.article-style-github .columns {
    display: flex;
    gap: 1em;
    margin: 1em 0;
}

#article-content.article-style-github .column {
    flex: 1;
    min-width: 0;
}

/* 表格宽度自适应 */
#article-content.article-style-github table[style*="width"] {
    width: 100% !important;
}


/* ===================================================
 * Callout/Admonition 块样式 - 通用基础
 * ==================================================*/

/* GitHub 风格 Callout */
#article-content.article-style-github .callout-note,
#article-content.article-style-github .callout-tip,
#article-content.article-style-github .callout-warning,
#article-content.article-style-github .callout-danger,
#article-content.article-style-github .callout-info {
    margin: 1.5em 0;
    padding: 1rem 1.25rem;
    border-left: 4px solid;
    border-radius: 0.5rem;
}

#article-content.article-style-github .callout-note {
    background: color-mix(in srgb, var(--color-info) 10%, transparent);
    border-left-color: var(--color-info);
    color: var(--color-base-content);
}

#article-content.article-style-github .callout-tip {
    background: color-mix(in srgb, var(--color-success) 10%, transparent);
    border-left-color: var(--color-success);
    color: var(--color-base-content);
}

#article-content.article-style-github .callout-warning {
    background: color-mix(in srgb, var(--color-warning) 10%, transparent);
    border-left-color: var(--color-warning);
    color: var(--color-base-content);
}

#article-content.article-style-github .callout-danger {
    background: color-mix(in srgb, var(--color-error) 10%, transparent);
    border-left-color: var(--color-error);
    color: var(--color-base-content);
}

#article-content.article-style-github .callout-info {
    background: color-mix(in srgb, var(--color-accent) 10%, transparent);
    border-left-color: var(--color-accent);
    color: var(--color-base-content);
}

/* ===================================================
 * 7. 默认风格样式（现代化苹果风 - DaisyUI）
 * ==================================================*/
#article-content.article-style-default {
    font-size: 16px;
    line-height: 1.75;
    color: var(--color-base-content);
    letter-spacing: -0.01em;
}

/* 标题 - 苹果风格 */
#article-content.article-style-default h1,
#article-content.article-style-default h2,
#article-content.article-style-default h3,
#article-content.article-style-default h4,
#article-content.article-style-default h5,
#article-content.article-style-default h6 {
    margin-top: 2em;
    margin-bottom: 0.875em;
    font-weight: 700;
    line-height: 1.25;
    color: var(--color-base-content);
    letter-spacing: -0.02em;
}

#article-content.article-style-default h1 {
    font-size: 2.5em;
    margin-top: 0;
}

#article-content.article-style-default h2 {
    font-size: 2em;
}

#article-content.article-style-default h3 {
    font-size: 1.625em;
}

#article-content.article-style-default h4 {
    font-size: 1.375em;
}

#article-content.article-style-default h5 {
    font-size: 1.125em;
}

#article-content.article-style-default h6 {
    font-size: 1em;
    font-weight: 600;
    color: color-mix(in srgb, var(--color-base-content) 85%, transparent);
}

/* 段落 */
#article-content.article-style-default p {
    margin-bottom: 1em;
    line-height: 1.75;
}

/* 链接 */
#article-content.article-style-default a {
    color: var(--color-primary);
    text-decoration: underline;
    text-decoration-color: transparent;
    text-underline-offset: 3px;
    transition: text-decoration-color 0.2s ease;
}

#article-content.article-style-default a:hover {
    text-decoration-color: var(--color-primary);
}

/* 引用块 - 苹果风格卡片 */
#article-content.article-style-default blockquote {
    margin: 1.5em 0;
    padding: 1.25rem 1.5rem;
    background: var(--color-base-200);
    border-left: none;
    border-radius: 1rem;
    color: var(--color-base-content);
    font-size: 0.95em;
    box-shadow: 0 1px 3px color-mix(in srgb, var(--color-base-content) 8%, transparent);
}

#article-content.article-style-default blockquote p:last-child {
    margin-bottom: 0;
}

/* 行内代码 - 苹果风格 */
#article-content.article-style-default code {
    padding: 0.2em 0.5em;
    font-size: 0.9em;
    background: var(--color-base-200);
    color: var(--color-primary);
    border-radius: 0.375rem;
    font-family: ui-monospace, monospace;
    font-weight: 500;
}

/* 代码块 - 基础布局（Shiki 插件负责样式渲染） */
#article-content.article-style-default pre {
    margin: 1.5em 0;
    padding: 0;
    overflow-x: auto;
    max-width: 100%;
}

#article-content.article-style-default pre code {
    padding: 0;
    font-size: inherit;
}

/* ===================================================
 * 列表样式 - 苹果风格增强
 * 支持深层嵌套（6层+），带颜色渐变和悬停效果
 * ==================================================*/

/* 无序列表和有序列表基础 */
#article-content.article-style-default ul,
#article-content.article-style-default ol {
    margin: 1em 0;
    padding-left: 2em;
    line-height: 1.75;
}

/* 列表项基础样式 */
#article-content.article-style-default li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
    padding-left: 0.5em;
    line-height: 1.75;
    transition: background-color 0.2s ease;
}

/* 列表项悬停效果 */
#article-content.article-style-default li:hover {
    background: color-mix(in srgb, var(--color-base-200) 40%, transparent);
    border-radius: 0.375rem;
}

/* 列表项内的段落 */
#article-content.article-style-default li > p {
    margin: 0;
    line-height: 1.75;
}

/* 一级列表标记 - 最鲜艳 */
#article-content.article-style-default ul > li::marker {
    color: var(--color-primary);
    font-size: 1.1em;
    font-weight: bold;
}

#article-content.article-style-default ol > li::marker {
    color: var(--color-primary);
    font-weight: 700;
    font-size: 0.95em;
}

/* 二级嵌套列表 */
#article-content.article-style-default li > ul,
#article-content.article-style-default li > ol {
    margin-top: 0.75em;
    margin-bottom: 0.75em;
    padding-left: 1.75em;
}

#article-content.article-style-default ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 85%, transparent);
    font-size: 1em;
}

#article-content.article-style-default ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 85%, transparent);
    font-weight: 600;
}

/* 三级嵌套列表 */
#article-content.article-style-default ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 70%, transparent);
}

#article-content.article-style-default ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 70%, transparent);
    font-weight: 500;
}

/* 四级嵌套列表 */
#article-content.article-style-default ul ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 55%, transparent);
}

#article-content.article-style-default ol ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 55%, transparent);
}

/* 五级嵌套列表 */
#article-content.article-style-default ul ul ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 40%, transparent);
}

#article-content.article-style-default ol ol ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 40%, transparent);
}

/* 六级及以上嵌套列表 */
#article-content.article-style-default ul ul ul ul ul ul > li::marker {
    color: color-mix(in srgb, var(--color-primary) 30%, transparent);
}

#article-content.article-style-default ol ol ol ol ol ol > li::marker {
    color: color-mix(in srgb, var(--color-primary) 30%, transparent);
}

/* 表格 - 苹果风格 */
#article-content.article-style-default table {
    width: 100% !important;
    margin: 1.5em 0;
    border-collapse: separate;
    border-spacing: 0;
    border-radius: 0.75rem;
    overflow: hidden;
    border: 1px solid var(--color-base-300);
    box-shadow: 0 1px 3px color-mix(in srgb, var(--color-base-content) 5%, transparent);
}

/* 覆盖编辑器内联样式 */
#article-content.article-style-default table[style*="width"] {
    width: 100% !important;
}

#article-content.article-style-default table col[style*="width"],
#article-content.article-style-default table colgroup col {
    width: auto !important;
}

#article-content.article-style-default table thead {
    background: var(--color-base-200);
}

#article-content.article-style-default table th {
    padding: 1rem 1.25rem;
    font-weight: 600;
    font-size: 0.9em;
    text-align: left;
    color: var(--color-base-content);
    border-bottom: 2px solid var(--color-base-300);
    background: var(--color-base-200);
}

/* 首行表头可能在 tbody 中 */
#article-content.article-style-default table tbody tr:first-child th {
    background: var(--color-base-200);
    border-bottom: 2px solid var(--color-base-300);
}

#article-content.article-style-default table td {
    padding: 0.875rem 1.25rem;
    border-bottom: 1px solid color-mix(in srgb, var(--color-base-300) 50%, transparent);
}

/* 表格行悬停效果 */
#article-content.article-style-default table tbody tr {
    transition: background-color 0.15s ease;
}

#article-content.article-style-default table tbody tr:hover {
    background: color-mix(in srgb, var(--color-base-200) 60%, transparent);
}

#article-content.article-style-default table tbody tr:last-child td,
#article-content.article-style-default table tbody tr:last-child th {
    border-bottom: none;
}

/* 表格内的段落 */
#article-content.article-style-default table p {
    margin: 0;
    line-height: 1.5;
}

/* 分隔线 - 苹果风格 */
#article-content.article-style-default hr {
    margin: 2em 0;
    height: 1px;
    border: none;
    background: var(--color-base-300);
    opacity: 0.5;
}

/* 图片 - 苹果风格大圆角 */
#article-content.article-style-default img {
    max-width: 100%;
    height: auto;
    border-radius: 1rem;
    margin: 2em auto;
    display: block;
    box-shadow: 0 4px 16px color-mix(in srgb, var(--color-base-content) 8%, transparent);
}

/* 强调和加粗 */
#article-content.article-style-default strong {
    font-weight: 700;
    color: var(--color-base-content);
}

#article-content.article-style-default em {
    font-style: italic;
}

/* 键盘按键 - 苹果风格 */
#article-content.article-style-default kbd {
    padding: 0.25rem 0.5rem;
    font-size: 0.85em;
    background: var(--color-base-200);
    border: 1px solid var(--color-base-300);
    border-radius: 0.5rem;
    font-family: ui-monospace, monospace;
    box-shadow: 0 2px 4px color-mix(in srgb, var(--color-base-content) 6%, transparent),
                inset 0 -1px 0 var(--color-base-300);
    font-weight: 500;
}

/* 高亮文本 - 苹果风格 */
#article-content.article-style-default mark {
    background: var(--color-warning);
    color: var(--color-warning-content);
    padding: 0.15rem 0.4rem;
    border-radius: 0.375rem;
    font-weight: 500;
}

/* 定义列表 */
#article-content.article-style-default dl {
    margin: 1.5em 0;
}

#article-content.article-style-default dt {
    font-weight: 600;
    margin-top: 1em;
    color: var(--color-base-content);
}

#article-content.article-style-default dd {
    margin-left: 1.5em;
    margin-top: 0.5em;
    color: color-mix(in srgb, var(--color-base-content) 85%, transparent);
}

/* 折叠组件 - 苹果风格 */
#article-content.article-style-default details {
    margin: 1.5em 0;
    background: var(--color-base-200);
    border: 1px solid var(--color-base-300);
    border-radius: 0.875rem;
    overflow: hidden;
    box-shadow: 0 1px 3px color-mix(in srgb, var(--color-base-content) 5%, transparent);
}

#article-content.article-style-default summary {
    padding: 1rem 1.25rem;
    background: var(--color-base-100);
    cursor: pointer;
    font-weight: 600;
    user-select: none;
    transition: background 0.2s ease;
}

#article-content.article-style-default summary:hover {
    background: var(--color-base-200);
}

#article-content.article-style-default details[open] summary {
    border-bottom: 1px solid var(--color-base-300);
    background: var(--color-base-200);
}

#article-content.article-style-default details > *:not(summary) {
    padding: 1.25rem;
}

/* 图注 */
#article-content.article-style-default figure {
    margin: 1.5em 0;
}

#article-content.article-style-default figcaption {
    margin-top: 0.5em;
    text-align: center;
    font-size: 0.875em;
    color: color-mix(in srgb, var(--color-base-content) 70%, transparent);
}

/* 缩写 */
#article-content.article-style-default abbr {
    text-decoration: underline dotted;
    cursor: help;
}

/* 删除线 */
#article-content.article-style-default del,
#article-content.article-style-default s {
    text-decoration: line-through;
    opacity: 0.7;
}

/* 插入/下划线 */
#article-content.article-style-default ins,
#article-content.article-style-default u {
    text-decoration: underline;
    text-decoration-color: var(--color-primary);
}

/* 上下标 */
#article-content.article-style-default sub,
#article-content.article-style-default sup {
    font-size: 0.75em;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

#article-content.article-style-default sub {
    bottom: -0.25em;
}

#article-content.article-style-default sup {
    top: -0.5em;
}

/* 小字 */
#article-content.article-style-default small {
    font-size: 0.875em;
    color: color-mix(in srgb, var(--color-base-content) 80%, transparent);
}

/* 引用标题 */
#article-content.article-style-default cite {
    font-style: italic;
    color: color-mix(in srgb, var(--color-base-content) 85%, transparent);
}

/* 地址 */
#article-content.article-style-default address {
    margin: 1em 0;
    font-style: normal;
    line-height: 1.6;
}

/* Task List */
#article-content.article-style-default input[type="checkbox"] {
    margin-right: 0.5em;
}

#article-content.article-style-default li input[type="checkbox"] {
    vertical-align: middle;
}

/* 嵌套列表 */
#article-content.article-style-default li > ul,
#article-content.article-style-default li > ol {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}

/* ===================================================
 * 任务列表 - 苹果风格增强
 * 带复选框、悬停效果和完成状态
 * ==================================================*/

/* 任务列表容器 */
#article-content.article-style-default ul[data-type="taskList"] {
    list-style: none;
    padding-left: 0;
    margin: 1.5em 0;
}

/* 任务列表项 */
#article-content.article-style-default li[data-type="taskItem"] {
    display: flex;
    align-items: flex-start;
    gap: 1em;
    padding: 0.875em 1.25em;
    margin: 0.75em 0;
    background: var(--color-base-200);
    border: 1px solid var(--color-base-300);
    border-radius: 0.75rem;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px color-mix(in srgb, var(--color-base-content) 3%, transparent);
}

/* 任务项悬停效果 */
#article-content.article-style-default li[data-type="taskItem"]:hover {
    background: color-mix(in srgb, var(--color-base-200) 120%, var(--color-base-100));
    border-color: var(--color-primary);
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-primary) 10%, transparent);
    transform: translateX(2px);
}

/* 复选框标签 */
#article-content.article-style-default li[data-type="taskItem"] label {
    display: flex;
    align-items: center;
    gap: 0.5em;
    margin-top: 0.125em;
    cursor: pointer;
    flex-shrink: 0;
}

/* 复选框样式 */
#article-content.article-style-default li[data-type="taskItem"] input[type="checkbox"] {
    margin: 0;
    width: 1.25em;
    height: 1.25em;
    cursor: pointer;
    accent-color: var(--color-primary);
    border-radius: 0.25rem;
}

/* 复选框后的 span（占位符） */
#article-content.article-style-default li[data-type="taskItem"] label span {
    display: none;
}

/* 任务项内容区域 */
#article-content.article-style-default li[data-type="taskItem"] div {
    flex: 1;
    min-width: 0;
}

#article-content.article-style-default li[data-type="taskItem"] div p {
    margin: 0;
    line-height: 1.6;
}

/* 已完成的任务项 */
#article-content.article-style-default li[data-type="taskItem"][data-checked="true"] {
    opacity: 0.65;
    background: color-mix(in srgb, var(--color-base-200) 60%, transparent);
    border-color: color-mix(in srgb, var(--color-base-300) 60%, transparent);
}

#article-content.article-style-default li[data-type="taskItem"][data-checked="true"]:hover {
    opacity: 0.75;
}

#article-content.article-style-default li[data-type="taskItem"][data-checked="true"] div {
    text-decoration: line-through;
    color: color-mix(in srgb, var(--color-base-content) 60%, transparent);
}

/* ===================================================
 * 折叠内容 - 苹果风格增强
 * 带卡片式设计、悬停效果和展开动画
 * ==================================================*/

#article-content.article-style-default details.details {
    margin: 1.5em 0;
    border: 1px solid var(--color-base-300);
    border-radius: 1rem;
    overflow: hidden;
    background: var(--color-base-100);
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-base-content) 6%, transparent);
    transition: all 0.2s ease;
}

#article-content.article-style-default details.details:hover {
    box-shadow: 0 4px 12px color-mix(in srgb, var(--color-base-content) 10%, transparent);
}

#article-content.article-style-default details.details summary {
    padding: 1.125rem 1.5rem;
    background: var(--color-base-200);
    cursor: pointer;
    font-weight: 600;
    font-size: 1.05em;
    user-select: none;
    transition: all 0.2s ease;
    position: relative;
}

#article-content.article-style-default details.details summary::before {
    content: '▶';
    position: absolute;
    left: 0.75rem;
    transition: transform 0.2s ease;
    color: var(--color-primary);
    font-size: 0.85em;
}

#article-content.article-style-default details.details summary:hover {
    background: color-mix(in srgb, var(--color-primary) 8%, var(--color-base-200));
    color: var(--color-primary);
}

#article-content.article-style-default details.details[open] summary::before {
    transform: rotate(90deg);
}

#article-content.article-style-default details.details[open] summary {
    border-bottom: 2px solid var(--color-primary);
    background: color-mix(in srgb, var(--color-primary) 5%, var(--color-base-200));
}

#article-content.article-style-default details.details > div {
    padding: 1.25rem 1.5rem;
    animation: details-open 0.3s ease-out;
}

@keyframes details-open {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===================================================
 * 分栏卡片 - 苹果风格增强
 * 等宽布局、悬停上浮效果、响应式堆叠
 * ==================================================*/

#article-content.article-style-default .columns {
    display: flex;
    gap: 1.5em;
    margin: 2em 0;
    flex-wrap: wrap;
}

/* 覆盖内联样式 */
#article-content.article-style-default .columns[style] {
    gap: 1.5em !important;
    width: 100% !important;
}

#article-content.article-style-default .column {
    flex: 1;
    min-width: 0;
    padding: 1.5rem;
    background: var(--color-base-200);
    border-radius: 1rem;
    border: 1px solid var(--color-base-300);
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-base-content) 6%, transparent);
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 覆盖内联样式 */
#article-content.article-style-default .column[style] {
    min-width: 0 !important;
    box-sizing: border-box !important;
}

#article-content.article-style-default .column p {
    margin: 0;
    line-height: 1.6;
}

/* 分栏卡片悬停效果 - 上浮 + 阴影增强 */
#article-content.article-style-default .column:hover {
    background: var(--color-base-100);
    border-color: var(--color-primary);
    box-shadow: 0 8px 24px color-mix(in srgb, var(--color-primary) 15%, transparent);
    transform: translateY(-4px) scale(1.02);
}

/* 分栏响应式 - 移动端堆叠 */
@media (max-width: 768px) {
    #article-content.article-style-default .columns {
        flex-direction: column;
        gap: 1em;
    }
    
    #article-content.article-style-default .column {
        width: 100%;
    }
}

/* 表格固定宽度处理 */
#article-content.article-style-default table[style*="width"] {
    width: 100% !important;
}

#article-content.article-style-default table col[style*="width"] {
    width: auto !important;
}

/* 表格标题 */
#article-content.article-style-default caption {
    padding: 0.75rem 0;
    font-weight: 600;
    text-align: left;
    caption-side: top;
    color: var(--color-base-content);
}

/* 表格页脚 */
#article-content.article-style-default tfoot {
    background: var(--color-base-200);
    font-weight: 500;
    font-size: 0.9em;
}

#article-content.article-style-default tfoot td {
    border-top: 2px solid var(--color-base-300);
}

/* 短引用 */
#article-content.article-style-default q {
    font-style: italic;
    quotes: '"' '"' ''' ''';
}

#article-content.article-style-default q::before {
    content: open-quote;
}

#article-content.article-style-default q::after {
    content: close-quote;
}

/* 变量 */
#article-content.article-style-default var {
    font-family: ui-monospace, monospace;
    font-style: normal;
    font-weight: 600;
    color: var(--color-secondary);
}

/* 示例输出 */
#article-content.article-style-default samp {
    font-family: ui-monospace, monospace;
    padding: 0.2em 0.4em;
    background: var(--color-base-200);
    border-radius: 0.25rem;
    font-size: 0.9em;
}

/* 定义（术语） */
#article-content.article-style-default dfn {
    font-style: italic;
    font-weight: 600;
    color: var(--color-primary);
}

/* 时间 */
#article-content.article-style-default time {
    color: color-mix(in srgb, var(--color-base-content) 80%, transparent);
}

/* ===================================================
 * 媒体元素 - 苹果风格
 * ==================================================*/

/* 音频播放器 */
#article-content.article-style-default audio {
    width: 100%;
    max-width: 100%;
    margin: 1.5em 0;
    border-radius: 0.75rem;
    display: block;
}

/* 视频播放器 */
#article-content.article-style-default video {
    width: 100%;
    max-width: 100%;
    height: auto;
    margin: 2em auto;
    border-radius: 1rem;
    display: block;
    box-shadow: 0 4px 16px color-mix(in srgb, var(--color-base-content) 8%, transparent);
}

/* iframe 嵌入内容 */
#article-content.article-style-default iframe {
    width: 100%;
    max-width: 100%;
    margin: 1.5em 0;
    border-radius: 1rem;
    border: 1px solid var(--color-base-300);
    background: var(--color-base-200);
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-base-content) 6%, transparent);
}

/* embed 和 object */
#article-content.article-style-default embed,
#article-content.article-style-default object {
    max-width: 100%;
    margin: 1.5em 0;
    border-radius: 0.75rem;
}

/* picture 响应式图片容器 */
#article-content.article-style-default picture {
    display: block;
    margin: 2em auto;
}

#article-content.article-style-default picture img {
    margin: 0;
}

/* ===================================================
 * 语义标记元素 - 苹果风格
 * ==================================================*/

/* 旁注/侧边栏 */
#article-content.article-style-default aside {
    margin: 1.5em 0;
    padding: 1.25rem 1.5rem;
    background: var(--color-base-200);
    border-radius: 1rem;
    border-left: 4px solid var(--color-accent);
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-base-content) 6%, transparent);
}

/* 注音标记（中文拼音） */
#article-content.article-style-default ruby {
    font-size: inherit;
}

#article-content.article-style-default rt {
    font-size: 0.6em;
    color: color-mix(in srgb, var(--color-base-content) 70%, transparent);
}

#article-content.article-style-default rp {
    color: color-mix(in srgb, var(--color-base-content) 50%, transparent);
}

/* 文本方向控制 */
#article-content.article-style-default bdi,
#article-content.article-style-default bdo {
    unicode-bidi: isolate;
}

/* ===================================================
 * 表单元素 - 苹果风格
 * ==================================================*/

/* 表单分组 */
#article-content.article-style-default fieldset {
    margin: 1.5em 0;
    padding: 1.25rem 1.5rem;
    border: 1px solid var(--color-base-300);
    border-radius: 1rem;
    background: var(--color-base-200);
}

#article-content.article-style-default legend {
    padding: 0 0.75rem;
    font-weight: 600;
    font-size: 1.125em;
    color: var(--color-base-content);
}

/* 输出结果 */
#article-content.article-style-default output {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background: var(--color-base-200);
    border-radius: 0.5rem;
    font-family: ui-monospace, monospace;
    color: var(--color-primary);
    font-weight: 500;
}

/* 进度条 */
#article-content.article-style-default progress {
    width: 100%;
    height: 1.5rem;
    margin: 1em 0;
    border-radius: 0.75rem;
    overflow: hidden;
    background: var(--color-base-200);
    border: 1px solid var(--color-base-300);
}

#article-content.article-style-default progress::-webkit-progress-bar {
    background: var(--color-base-200);
    border-radius: 0.75rem;
}

#article-content.article-style-default progress::-webkit-progress-value {
    background: var(--color-primary);
    border-radius: 0.75rem;
}

#article-content.article-style-default progress::-moz-progress-bar {
    background: var(--color-primary);
    border-radius: 0.75rem;
}

/* 度量条 */
#article-content.article-style-default meter {
    width: 100%;
    height: 1.5rem;
    margin: 1em 0;
    border-radius: 0.75rem;
    overflow: hidden;
    background: var(--color-base-200);
    border: 1px solid var(--color-base-300);
}

#article-content.article-style-default meter::-webkit-meter-bar {
    background: var(--color-base-200);
    border-radius: 0.75rem;
}

#article-content.article-style-default meter::-webkit-meter-optimum-value {
    background: var(--color-success);
    border-radius: 0.75rem;
}

#article-content.article-style-default meter::-webkit-meter-suboptimum-value {
    background: var(--color-warning);
    border-radius: 0.75rem;
}

#article-content.article-style-default meter::-webkit-meter-even-less-good-value {
    background: var(--color-error);
    border-radius: 0.75rem;
}

/* ===================================================
 * 特殊元素 - 苹果风格
 * ==================================================*/

/* 对话框 */
#article-content.article-style-default dialog {
    padding: 1.5rem;
    border: 1px solid var(--color-base-300);
    border-radius: 1rem;
    background: var(--color-base-100);
    box-shadow: 0 8px 32px color-mix(in srgb, var(--color-base-content) 15%, transparent);
}

#article-content.article-style-default dialog::backdrop {
    background: color-mix(in srgb, var(--color-base-content) 20%, transparent);
    backdrop-filter: blur(4px);
}

/* 默认风格 Callout - 苹果风格卡片 */
#article-content.article-style-default .callout-note,
#article-content.article-style-default .callout-tip,
#article-content.article-style-default .callout-warning,
#article-content.article-style-default .callout-danger,
#article-content.article-style-default .callout-info {
    margin: 1.5em 0;
    padding: 1.25rem 1.5rem;
    border-radius: 1rem;
    border-left: none;
    box-shadow: 0 2px 8px color-mix(in srgb, var(--color-base-content) 6%, transparent);
}

#article-content.article-style-default .callout-note {
    background: color-mix(in srgb, var(--color-info) 15%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-info) 30%, transparent);
}

#article-content.article-style-default .callout-tip {
    background: color-mix(in srgb, var(--color-success) 15%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-success) 30%, transparent);
}

#article-content.article-style-default .callout-warning {
    background: color-mix(in srgb, var(--color-warning) 15%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-warning) 30%, transparent);
}

#article-content.article-style-default .callout-danger {
    background: color-mix(in srgb, var(--color-error) 15%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-error) 30%, transparent);
}

#article-content.article-style-default .callout-info {
    background: color-mix(in srgb, var(--color-accent) 15%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-accent) 30%, transparent);
}

/* ===================================================
 * 脚注样式 - 三种风格通用
 * ==================================================*/

/* 脚注引用链接 */
#article-content .footnote-ref,
#article-content a[href^="#fn"],
#article-content sup a {
    text-decoration: none;
    font-weight: 600;
    color: var(--color-primary);
    padding: 0 0.2em;
}

#article-content .footnote-ref:hover,
#article-content a[href^="#fn"]:hover {
    text-decoration: underline;
}

/* 脚注区域 */
#article-content .footnotes,
#article-content .footnote-list {
    margin-top: 3em;
    padding-top: 1.5em;
    border-top: 2px solid var(--color-base-300);
    font-size: 0.9em;
    color: color-mix(in srgb, var(--color-base-content) 85%, transparent);
}

#article-content .footnotes ol,
#article-content .footnote-list ol {
    padding-left: 1.5em;
    margin: 0.5em 0;
}

#article-content .footnotes li,
#article-content .footnote-list li {
    margin-top: 0.75em;
    line-height: 1.6;
}

/* 脚注反向链接 */
#article-content .footnote-backref,
#article-content a[href^="#fnref"] {
    text-decoration: none;
    margin-left: 0.25em;
    font-size: 0.85em;
}

#article-content .footnote-backref:hover,
#article-content a[href^="#fnref"]:hover {
    text-decoration: underline;
}

/* ===================================================
 * 嵌套引用和其他增强样式
 * ==================================================*/

/* 嵌套引用块 - GitHub 风格 */
#article-content.article-style-github blockquote blockquote {
    margin: 0.75em 0;
    border-left-width: 0.2em;
    opacity: 0.9;
}

/* 嵌套引用块 - 默认风格 */
#article-content.article-style-default blockquote blockquote {
    margin: 1em 0;
    background: color-mix(in srgb, var(--color-base-100) 50%, transparent);
    box-shadow: inset 0 0 0 1px var(--color-base-300);
}

/* 代码块语言标签 */
#article-content pre[data-language]::before {
    content: attr(data-language);
    position: absolute;
    top: 0.5rem;
    right: 3.5rem;
    font-size: 0.75rem;
    color: color-mix(in srgb, var(--color-base-content) 60%, transparent);
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.05em;
}

/* 水平分隔线增强 - 默认风格 */
#article-content.article-style-default hr {
    margin: 3em 0;
    height: 1px;
    border: none;
    background: linear-gradient(
        to right,
        transparent,
        var(--color-base-300),
        transparent
    );
    position: relative;
}

#article-content.article-style-default hr::after {
    content: '✦';
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: var(--color-base-100);
    padding: 0 0.75em;
    color: var(--color-base-300);
    font-size: 0.875rem;
}

/* ===================================================
 * 9. 文章页点赞样式
 * ==================================================*/
.post-like-button .heart-icon {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.post-like-button.liked .heart-icon {
    animation: heart-beat 0.6s ease;
}

@keyframes heart-beat {
    0%, 100% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.3);
    }
    50% {
        transform: scale(1.1);
    }
    75% {
        transform: scale(1.2);
    }
}

/* ===================================================
 * 6. 动态目录导航样式 - 自适应布局系统
 * ==================================================*/

/* 目录容器 - 自适应高度布局 */
.toc-container {
    /* 自适应高度，最大不超过视口高度 */
    max-height: min(70vh, 400px);
    overflow-y: auto;
    overflow-x: hidden;
    
    /* 滚动条样式优化 */
    scrollbar-width: thin;
    scrollbar-color: color-mix(in srgb, var(--color-base-300) 40%, transparent) transparent;
}

/* 滚动条样式 - Webkit内核 */
.toc-container::-webkit-scrollbar {
    width: 4px;
}

.toc-container::-webkit-scrollbar-track {
    background: transparent;
}

.toc-container::-webkit-scrollbar-thumb {
    background: color-mix(in srgb, var(--color-base-300) 40%, transparent);
    border-radius: 2px;
}

.toc-container::-webkit-scrollbar-thumb:hover {
    background: color-mix(in srgb, var(--color-base-300) 60%, transparent);
}

/* 渐变遮罩 - 当内容可滚动时显示（已取消遮罩，避免覆盖文字） */

/* 目录列表 - 统一样式系统 */
.toc-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* 目录项容器 - 动态缩进系统 */
.toc-item-wrapper {
    margin: 0;
    padding: 0;
    
    /* 动态缩进 - 基于相对层级 */
    padding-left: calc(var(--toc-indent-multiplier, 0) * var(--toc-indent-unit, 16px));
}

/* 目录链接 - 基础样式 */
.toc-link {
    display: flex;
    align-items: center;
    padding: 6px var(--toc-base-padding);
    margin: 2px 0;
    min-height: var(--toc-link-height);
    
    /* 字体与文本 */
    font-size: 0.875rem;
    font-weight: 400;
    line-height: 1.4;
    color: color-mix(in srgb, var(--color-base-content) 60%, transparent);
    text-decoration: none;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    
    /* 视觉样式 */
    border-radius: 4px;
    border-left: 2px solid transparent;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
}

/* 交互状态 - 统一变量定义 */
:root {
    --toc-hover-bg: color-mix(in srgb, var(--color-primary) 7%, transparent);
    --toc-active-bg: color-mix(in srgb, var(--color-primary) 10%, transparent);
    --toc-border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
}

/* 悬停效果 */
.toc-link:hover {
    background: var(--toc-hover-bg);
    transform: translateX(1px);
}

/* 激活状态 - 默认简洁风格 */
.toc-link.active {
    background: var(--toc-active-bg);
    transform: translateX(1px);
  
}


/* 层级特殊样式 - 顶级标题强调 */
.toc-link[data-relative-level="0"] {
    font-weight: 500;
    font-size: 0.9rem;
}

/* 嵌套列表边框 - 层级视觉引导 */
.toc-item-wrapper .toc-list {
    border-left: 1px solid color-mix(in srgb, var(--color-base-content) 10%, transparent);
    margin-left: 8px;
    padding-left: 0;
}

/* ===================================================
 * 9. 移动端响应式优化
 * ==================================================*/

/* 移动端布局修复 */
@media (max-width: 1023px) {
    /* 文章内容区占满宽度 */
    .flex.gap-8 {
        flex-direction: column;
        gap: 0;
    }
    
    /* 文章内容区 */
    article.flex-1 {
        width: 100%;
    }
    
    /* 确保图片不溢出 */
    #article-content img {
        max-width: 100%;
        height: auto;
    }
    
    /* 代码块横向滚动 */
    #article-content pre {
        overflow-x: auto;
        max-width: 100%;
    }
    
    /* 表格横向滚动 */
    #article-content table {
        display: block;
        max-width: 100%;
        overflow-x: auto;
    }
}

/* 小屏幕优化 */
@media (max-width: 640px) {
    #article-content {
        font-size: 15px;
    }
    
    #article-content.article-style-github h1 {
        font-size: 1.75em;
    }
    
    #article-content.article-style-github h2 {
        font-size: 1.5em;
    }
}

/* ===================================================
 * 10. 无障碍和性能优化
 * ==================================================*/

/* 动画尊重用户偏好 */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

