/**
 * ========================================
 * 文章页面样式 - 现代优雅中文排版
 * ========================================
 * 设计理念：
 * - 简洁层次：清晰的标题层级，不过度装饰
 * - 中文优化：合适的行高、字间距、标点处理
 * - 现代卡片：subtle 阴影，圆润边角
 * - 主题适配：深色/浅色模式无缝切换
 * ========================================
 */

/* 引入公共文章内容样式 */
@import '../../common/css/article-content.css';

/* ===================================================
 * 1. CSS 变量定义
 * ==================================================*/
:root {
  /* 目录导航变量 */
  --toc-indent-unit: 16px;
  --toc-base-padding: 8px;
  --toc-link-height: 32px;
  --toc-hover-bg: color-mix(in srgb, var(--color-primary) 7%, transparent);
  --toc-active-bg: color-mix(in srgb, var(--color-primary) 10%, transparent);
  --toc-border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
}

/* ===================================================
 * 文章容器 - 统一布局控制
 * ==================================================*/
.article-container {
  /* 统一内边距：为所有装饰元素（阴影、伪元素等）留出空间 */
  padding: 1rem 1.5rem;
  margin: -1rem -1.5rem; /* 负 margin 抵消，保持原有宽度 */
  overflow: visible; /* 允许装饰元素溢出 */
}

/* ===================================================
 * 文章摘要 - 手绘风格 + 打字机效果
 * ==================================================*/
.article-excerpt {
  position: relative;
  margin-bottom: 2.5rem;
  padding: 1.25rem 1.5rem;
  /* 淡色背景 - 使用 base 色系 */
  background: color-mix(in srgb, var(--color-warning) 8%, var(--color-base-100));
  /* 手绘虚线边框 */
  border: 2px dashed color-mix(in srgb, var(--color-primary) 50%, transparent);
  /* 不规则圆角 - 对角圆润，手绘感 */
  border-radius: 0.5rem 1.5rem 0.5rem 1.5rem;
  /* 轻微倾斜 - 手绘随性感 */
  transform: rotate(-0.3deg);
  transition: transform 0.2s ease, border-color 0.2s ease;
}

/* 悬停效果 - 轻微摆正 */
.article-excerpt:hover {
  transform: rotate(0deg);
  border-color: color-mix(in srgb, var(--color-primary) 70%, transparent);
}

/* 摘要文本 - 打字机兼容 */
.excerpt-text {
  font-size: 0.9375rem;
  line-height: 1.8;
  color: color-mix(in srgb, var(--color-base-content) 85%, transparent);
  letter-spacing: 0.02em;
}

/* 打字机光标 - 跟随文字 */
.excerpt-cursor {
  display: inline;
  font-weight: 300;
  color: var(--color-primary);
  animation: cursor-blink 1s step-end infinite;
  margin-left: 1px;
}

@keyframes cursor-blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

/* ===================================================
 * 1.1 AI Summary Widget 颜色变量
 * ==================================================*/
html ai-summary-widget,
html[data-color-scheme="light"] ai-summary-widget,
body ai-summary-widget {
  --halo-asw-primary-1-color: var(--color-primary) !important;
  --halo-asw-text-1-color: var(--color-base-content) !important;
  --halo-asw-muted-1-color: color-mix(in srgb, var(--color-base-content) 10%, transparent) !important;
  --halo-asw-base-rounded: 1rem !important;
}

html[data-color-scheme="dark"] ai-summary-widget {
  --lightningcss-light: !important;
  --lightningcss-dark: initial !important;
  color-scheme: dark !important;
  --halo-asw-primary-1-color: var(--color-primary) !important;
  --halo-asw-text-1-color: var(--color-base-content) !important;
  --halo-asw-muted-1-color: color-mix(in srgb, var(--color-base-content) 12%, transparent) !important;
  --halo-asw-base-rounded: 1rem !important;
}

@media (prefers-color-scheme: dark) {
  html[data-color-scheme="auto"] ai-summary-widget {
    --lightningcss-light: !important;
    --lightningcss-dark: initial !important;
    color-scheme: dark !important;
    --halo-asw-primary-1-color: var(--color-primary) !important;
    --halo-asw-text-1-color: var(--color-base-content) !important;
    --halo-asw-muted-1-color: color-mix(in srgb, var(--color-base-content) 12%, transparent) !important;
  }
}

ai-summary-widget {
  display: block;
  border-radius: 1rem;
  box-shadow: 0 0 20px -5px color-mix(in srgb, var(--color-primary) 15%, transparent),
    0 4px 12px -4px color-mix(in srgb, var(--color-base-content) 8%, transparent);
  transition: box-shadow 0.3s ease;
}

ai-summary-widget:hover {
  box-shadow: 0 0 25px -5px color-mix(in srgb, var(--color-primary) 25%, transparent),
    0 8px 20px -6px color-mix(in srgb, var(--color-base-content) 12%, transparent);
}

/* ===================================================
 * 1.2 Hyperlink Card 颜色变量
 * ==================================================*/
html hyperlink-card,
html hyperlink-inline-card,
body hyperlink-card,
body hyperlink-inline-card {
  --halo-hyperlink-card-bg-color: var(--color-base-100) !important;
  --halo-hyperlink-card-inline-bg-color: var(--color-base-200) !important;
  --halo-hyperlink-card-inline-hover-bg-color: var(--color-base-300) !important;
  --halo-hyperlink-card-title-color: var(--color-base-content) !important;
  --halo-hyperlink-card-inline-title-color: var(--color-base-content) !important;
  --halo-hyperlink-card-description-color: color-mix(in srgb, var(--color-base-content) 70%, transparent) !important;
  --halo-hyperlink-card-link-color: color-mix(in srgb, var(--color-base-content) 60%, transparent) !important;
  --halo-hyperlink-card-bg-gradient: linear-gradient(var(--color-base-200), var(--color-base-200)), linear-gradient(transparent, transparent) !important;
  --halo-hyperlink-card-border-color: var(--color-base-300) !important;
  --halo-hyperlink-card-border-hover-color: var(--color-primary) !important;
  --halo-hyperlink-card-skeleton-color: var(--color-base-300) !important;
}

html[data-color-scheme="dark"] hyperlink-card,
html[data-color-scheme="dark"] hyperlink-inline-card {
  --lightningcss-light: !important;
  --lightningcss-dark: initial !important;
  color-scheme: dark !important;
}

@media (prefers-color-scheme: dark) {

  html[data-color-scheme="auto"] hyperlink-card,
  html[data-color-scheme="auto"] hyperlink-inline-card {
    --lightningcss-light: !important;
    --lightningcss-dark: initial !important;
    color-scheme: dark !important;
  }
}

hyperlink-card {
  display: block;
  border-radius: 0.75rem;
  transition: box-shadow 0.25s ease, border-color 0.25s ease;
}

/* 行内卡片：自适应内容宽度 */
hyperlink-inline-card {
  display: inline-flex;
  border-radius: 0.5rem;
  transition: box-shadow 0.25s ease, border-color 0.25s ease;
  vertical-align: middle;
}

hyperlink-card:hover {
  box-shadow: 0 8px 24px -8px color-mix(in srgb, var(--color-base-content) 12%, transparent);
}

hyperlink-inline-card:hover {
  box-shadow: 0 4px 12px -4px color-mix(in srgb, var(--color-base-content) 10%, transparent);
}

/* ===================================================
 * 2. 侧边栏样式
 * ==================================================*/
.sidebar-card:hover {
  box-shadow: 0 8px 24px -8px color-mix(in srgb, var(--color-base-content) 10%, transparent);
}

/* ===================================================
 * 3. 文章内容基础 - 中文排版优化
 * ==================================================*/

/* ========================================== */
/* 引入公共文章内容样式 */
/* ========================================== */
